<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

	<ui:composition template="/WEB-INF/template.xhtml">
	
		<ui:define name="title">Sale History</ui:define>
		
		<ui:define name="content">
			
			<h3>
				<h:outputLabel value="Sale History" />
			</h3>
			
			<h:dataTable columnClasses=",,,text-right,text-right" value="#{saleHistoryBean.saleList}" var="s"  styleClass="table table -striped">
			
				<h:column>
					<f:facet name="header">ID</f:facet>
					#{s.id}
					<f:facet name="footer">Total</f:facet>
				</h:column>
				
				<h:column>
					<f:facet name="header">Sale Date</f:facet>
					<h:link outcome="/views/sales-detail">
						<f:param name="sale" value="#{s.id}"></f:param>
						<h:outputText value="#{s.saleDate}" >
							<f:convertDateTime type="localDateTime" pattern="yyyy-MM-dd HH:mm"/>
						</h:outputText>
					</h:link>	
				</h:column>
				
				<h:column>
					<f:facet name="header">Customer</f:facet>
					#{s.customer}
				</h:column>
				
				<h:column headerClass="text-right" footerClass="text-right">
					<f:facet name="header">Quantity</f:facet>
					#{s.totalQuantity}					
					<f:facet name="footer">
						#{saleHistoryBean.quantity}
					</f:facet>
				</h:column>
				
				<h:column headerClass="text-right" footerClass="text-right">
					<f:facet name="header">Price</f:facet>
					#{s.totalPrice} MMK
					<f:facet name="footer">
						#{saleHistoryBean.price} MMK
					</f:facet>
				</h:column>
			
			</h:dataTable>
			
		</ui:define>
		
	</ui:composition>
</html>