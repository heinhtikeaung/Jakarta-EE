<!DOCTYPE html> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:h="http://xmlns.jcp.org/jsf/html"> 

<h:head></h:head> 
<body> 

	<h2>Timer Service Demo</h2>
	
	<h:form>
		<h:panelGrid columns="2">
		
			<h:outputLabel value="Message" />
			<h:inputText value="#{programmaticTimerBean.timerId.message}" />
			
			<h:outputLabel value="Set Timer" />
			<h:inputText value="#{programmaticTimerBean.timerId.interval}" p:type="number"/>
			
			<span></span>
			<h:commandButton action="#{programmaticTimerBean.create()}" value="Register" />
			
			<span></span>
			<h:commandButton action="index" value="Reload" />
			
		</h:panelGrid>
	
		
	</h:form>
	
	<h:dataTable value="#{declarativeTimerBean.message}" var="m">
	
		<h:column>
			<f:facet name="header">ID</f:facet>
			#{m.id}
		</h:column>
		<h:column>
			<f:facet name="header">Time</f:facet>
			<h:outputText value="#{m.time}" >
				<f:convertDateTime pattern="HH:mm ss" type="localDateTime"/>
			</h:outputText>
		</h:column>
		<h:column>
			<f:facet name="header">Message</f:facet>
			#{m.message}
		</h:column>
		
	</h:dataTable>

</body> 
</html>
